---
import { Icon } from 'astro-icon/components';

const currentYear = new Date().getFullYear();
---

<footer class="relative mt-32 border-t border-white/10">
  <div class="absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-crystal-cyan to-transparent"></div>

  <div class="container-custom py-16">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12">
      <div class="space-y-6">
        <div>
          <h3 class="text-2xl font-bold text-gradient mb-2">
            Alberto Cisneros
          </h3>
          <p class="text-text-tertiary text-sm">
            Full-Stack Web Developer
          </p>
        </div>
        
        <p class="text-text-secondary text-sm leading-relaxed">
          Building exceptional web experiences with modern technologies and a commitment to excellence.
        </p>

        <div class="flex gap-3">
          {[
            { icon: 'lucide:github', href: 'https://github.com', label: 'GitHub' },
            { icon: 'lucide:linkedin', href: 'https://linkedin.com', label: 'LinkedIn' },
            { icon: 'lucide:twitter', href: 'https://twitter.com', label: 'Twitter' },
            { icon: 'lucide:mail', href: 'mailto:alberto@example.com', label: 'Email' },
          ].map((social) => (
            <a
              href={social.href}
              target="_blank"
              rel="noopener noreferrer"
              class="glass glass-hover p-3 rounded-lg transition-all duration-300 hover:crystal-glow-cyan hover:scale-110"
              aria-label={social.label}
            >
              <Icon name={social.icon} class="w-5 h-5" />
            </a>
          ))}
        </div>
      </div>

      {[
        {
          title: 'Navigation',
          links: [
            { label: 'Home', href: '/' },
            { label: 'About', href: '#about' },
            { label: 'Projects', href: '#projects' },
            { label: 'Skills', href: '#skills' },
            { label: 'Blog', href: '/blog' },
            { label: 'Contact', href: '#contact' },
          ]
        },
        {
          title: 'Projects',
          links: [
            { label: 'Educational Platform', href: '#' },
            { label: 'Quiz Application', href: '#' },
            { label: 'E-Commerce Dashboard', href: '#' },
            { label: 'View All', href: '#projects' },
          ]
        },
        {
          title: 'Connect',
          links: [
            { label: 'GitHub', href: 'https://github.com', external: true },
            { label: 'LinkedIn', href: 'https://linkedin.com', external: true },
            { label: 'Twitter', href: 'https://twitter.com', external: true },
            { label: 'Email', href: 'mailto:alberto@example.com' },
          ]
        }
      ].map((column) => (
        <div>
          <h4 class="text-text-primary font-semibold mb-4 flex items-center gap-2">
            <div class="w-1 h-4 bg-gradient-to-b from-crystal-blue to-crystal-cyan rounded-full"></div>
            {column.title}
          </h4>
          <ul class="space-y-3">
            {column.links.map((link) => (
              <li>
                <a
                  href={link.href}
                  target={link.external ? '_blank' : undefined}
                  rel={link.external ? 'noopener noreferrer' : undefined}
                  class="text-text-tertiary hover:text-crystal-cyan transition-colors text-sm flex items-center gap-2 group"
                >
                  {link.label}
                  {link.external && (
                    <Icon name="lucide:external-link" class="w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity" />
                  )}
                </a>
              </li>
            ))}
          </ul>
        </div>
      ))}
    </div>

    <div class="border-t border-white/5 pt-8">
      <div class="flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-text-tertiary">
        <div class="flex items-center gap-2">
          <span>© {currentYear} Alberto Cisneros Morando.</span>
          <span class="hidden md:inline">•</span>
          <span>All rights reserved.</span>
        </div>

        <div class="flex items-center gap-6">
          <a href="/privacy" class="hover:text-crystal-cyan transition-colors">
            Privacy Policy
          </a>
          <a href="/terms" class="hover:text-crystal-cyan transition-colors">
            Terms of Service
          </a>
          <div class="flex items-center gap-2">
            <span>Built with</span>
            <Icon name="lucide:sparkles" class="w-4 h-4 text-crystal-cyan" />
            <span>Astro</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <button
    id="back-to-top"
    class="fixed bottom-8 right-8 glass glass-hover p-4 rounded-full crystal-glow-cyan transition-all duration-300 opacity-0 pointer-events-none hover:scale-110 z-50"
    aria-label="Back to top"
  >
    <Icon name="lucide:arrow-up" class="w-6 h-6" />
  </button>
</footer>

<script>
  const backToTopButton = document.getElementById('back-to-top');
  
  if (backToTopButton) {
    window.addEventListener('scroll', () => {
      if (window.scrollY > 500) {
        backToTopButton.classList.remove('opacity-0', 'pointer-events-none');
        backToTopButton.classList.add('opacity-100');
      } else {
        backToTopButton.classList.add('opacity-0', 'pointer-events-none');
        backToTopButton.classList.remove('opacity-100');
      }
    });

    backToTopButton.addEventListener('click', () => {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });
  }
</script>
