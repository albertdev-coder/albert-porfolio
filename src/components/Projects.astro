---
import { Icon } from "astro-icon/components";

const projects = [
  {
    title: "Educational PWA Platform",
    description:
      "An educational platform focused on helping users learn web development fundamentals. It offers structured courses in HTML, CSS, and JavaScript, guiding students through practical exercises to build real projects and start their own portfolio.",
    stack: [
      "TypeScript",
      "React",
      "Next.js",
      "Tailwind CSS",
      "Node.js",
      "PostgreSQL",
    ],
    image: "/projects/edu-platform.jpg",
    link: "https://bitverso-one.vercel.app",
    github: "https://github.com/albertdev-coder/course-pwa",
    featured: true,
  },
  {
    title: "Interactive Quiz Application",
    description:
      "A minimalist and user-friendly science quiz application designed for different age groups. It includes four difficulty levels (Child, Teen, Adult, and Mixed), and adaptive difficulty logic. Built as a full-stack application focused on performance, clean architecture, and engaging user experience.",
    stack: [
      "TypeScript",
      "React",
      "Next.js",
      "Tailwind CSS",
      "Node.js",
      "PostgreSQL",
    ],
    image: "/projects/quiz-app.jpg",
    link: "https://quizz-ciencia.up.railway.app",
    github: "https://github.com/albertdev-coder/lol-quizz",
    featured: true,
  },
];
---

<section id="projects" class="relative py-20 md:py-32">
  <div class="container-custom">
    <!-- Section Header -->
    <div class="text-center mb-12 md:mb-16" data-animate="fade-in">
      <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4">
        <span class="text-gradient">Featured Projects</span>
      </h2>
      <div
        class="h-1 w-16 sm:w-20 mx-auto bg-gradient-to-r from-crystal-purple to-crystal-pink rounded-full mb-4 sm:mb-6"
      >
      </div>
      <p class="text-sm sm:text-base md:text-lg text-text-tertiary max-w-2xl mx-auto px-2">
        Selected full-stack projects showcasing real-world problem solving,
        scalable architecture, and modern web technologies.
      </p>
    </div>

    <!-- Projects Grid -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8">
      {
        projects.map((project, index) => (
          <div
            class="group glass rounded-2xl overflow-hidden transition-all duration-500 hover:scale-[1.02]"
            class:list={[project.featured ? "crystal-glow-purple" : ""]}
            data-animate="slide-up"
            data-delay={index * 150}
          >
            {/* Project Image */}
            <div class="relative h-44 sm:h-52 md:h-64 bg-gradient-to-br from-crystal-blue/20 to-crystal-purple/20 overflow-hidden">
              <div class="absolute inset-0 flex items-center justify-center">
                <Icon
                  name="lucide:image"
                  class="w-14 h-14 sm:w-20 sm:h-20 text-text-tertiary opacity-50"
                />
              </div>
              {project.featured && (
                <div class="absolute top-3 right-3 sm:top-4 sm:right-4 glass px-2 sm:px-3 py-1 rounded-full text-xs font-semibold text-crystal-cyan flex items-center gap-1">
                  <Icon name="lucide:star" class="w-3 h-3" />
                  Featured
                </div>
              )}
            </div>

            {/* Project Content */}
            <div class="p-4 sm:p-6 space-y-3 sm:space-y-4">
              <div class="flex items-start justify-between gap-3">
                <h3 class="text-lg sm:text-xl md:text-2xl font-bold text-text-primary group-hover:text-gradient transition-all leading-tight">
                  {project.title}
                </h3>
                <div class="flex gap-2 shrink-0">
                  <a
                    href={project.link}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="glass glass-hover p-2 rounded-lg transition-all hover:crystal-glow-cyan"
                    aria-label="View project"
                  >
                    <Icon name="lucide:external-link" class="w-4 h-4 sm:w-5 sm:h-5" />
                  </a>
                  <a
                    href={project.github}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="glass glass-hover p-2 rounded-lg transition-all hover:crystal-glow-cyan"
                    aria-label="View source code"
                  >
                    <Icon name="lucide:github" class="w-4 h-4 sm:w-5 sm:h-5" />
                  </a>
                </div>
              </div>

              <p class="text-sm sm:text-base text-text-secondary leading-relaxed">
                {project.description}
              </p>

              {/* Tech Stack */}
              <div class="flex flex-wrap gap-2 pt-1 sm:pt-2">
                {project.stack.map((tech) => (
                  <span class="glass px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm text-text-tertiary">
                    {tech}
                  </span>
                ))}
              </div>
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>

<script>
  const observerOptions = {
    threshold: 0.1,
    rootMargin: "0px 0px -100px 0px",
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        const delay = entry.target.getAttribute("data-delay") || "0";
        setTimeout(() => {
          entry.target.classList.add("animate-in");
        }, parseInt(delay));
        observer.unobserve(entry.target);
      }
    });
  }, observerOptions);

  document.querySelectorAll("#projects [data-animate]").forEach((el) => {
    observer.observe(el);
  });
</script>

<style>
  #projects [data-animate] {
    opacity: 0;
    transform: translateY(30px);
    transition:
      opacity 0.8s ease-out,
      transform 0.8s ease-out;
  }

  #projects [data-animate].animate-in {
    opacity: 1;
    transform: translateY(0);
  }
</style>
